# üìã –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ Telegram-–±–æ—Ç–∞

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –¥–æ–º–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### `/start`
**–í—Ö–æ–¥:**
- –ö–æ–º–∞–Ω–¥–∞ `/start` (–±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: `telegram_id`, `username`, `first_name`, `last_name` –∏–∑ Telegram

**–í—ã—Ö–æ–¥:**
- –°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ `User`:
  - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–æ–≤—ã–π: —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å `User` —Å `role='participant'`
  - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π: –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø–æ–ª—è `username`, `first_name`, `last_name`
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ö–∞–∫–∞—Ç–æ–Ω–∞: –ø–æ–∏—Å–∫ `Hackathon` –≥–¥–µ `is_active=true`
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `User.current_hackathon_id` –Ω–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã–π –∞–∫—Ç–∏–≤–Ω—ã–π —Ö–∞–∫–∞—Ç–æ–Ω
- –í–æ–∑–≤—Ä–∞—Ç `Hackathon` (–æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)

### `/help`
**–í—Ö–æ–¥:**
- –ö–æ–º–∞–Ω–¥–∞ `/help` –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: `User` (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ `telegram_id`)

**–í—ã—Ö–æ–¥:**
- –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥, –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ `User.role`
- –¢–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: `User.current_hackathon_id`

---

## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ö–∞–∫–∞—Ç–æ–Ω–µ

### `/hackathon`
**–í—Ö–æ–¥:**
- –ö–æ–º–∞–Ω–¥–∞ `/hackathon` –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: `User.current_hackathon_id` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

**–í—ã—Ö–æ–¥:**
- –°—É—â–Ω–æ—Å—Ç—å `Hackathon` –ø–æ `current_hackathon_id` —Å –ø–æ–ª—è–º–∏:
  - `name`, `description`, `start_at`, `end_at`, `code`
- –°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏: `ReminderSubscription.enabled` –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ö–∞–∫–∞—Ç–æ–Ω–∞

### `/schedule`
**–í—Ö–æ–¥:**
- –ö–æ–º–∞–Ω–¥–∞ `/schedule` –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: `User.current_hackathon_id`

**–í—ã—Ö–æ–¥:**
- –°–ø–∏—Å–æ–∫ —Å—É—â–Ω–æ—Å—Ç–µ–π `Event[]` –≥–¥–µ `Event.hackathon_id = User.current_hackathon_id`
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ `Event.starts_at` (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ)
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–Ω—è–º –Ω–∞ –æ—Å–Ω–æ–≤–µ `starts_at`

### `/rules`
**–í—Ö–æ–¥:**
- –ö–æ–º–∞–Ω–¥–∞ `/rules` –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: `User.current_hackathon_id`

**–í—ã—Ö–æ–¥:**
- –°—É—â–Ω–æ—Å—Ç—å `Rules` –≥–¥–µ `Rules.hackathon_id = User.current_hackathon_id`
- –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–æ–ª–µ: `Rules.content`

### `/faq`
**–í—Ö–æ–¥:**
- –ö–æ–º–∞–Ω–¥–∞ `/faq` –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: `User.current_hackathon_id`

**–í—ã—Ö–æ–¥:**
- –°–ø–∏—Å–æ–∫ —Å—É—â–Ω–æ—Å—Ç–µ–π `FAQItem[]` –≥–¥–µ `FAQItem.hackathon_id = User.current_hackathon_id`
- –ö–∞–∂–¥—ã–π `FAQItem` —Å–æ–¥–µ—Ä–∂–∏—Ç: `question`, `answer`
- –í–æ–∑–º–æ–∂–Ω–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏—è –∏–ª–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

---

## –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### `/notify_on`
**–í—Ö–æ–¥:**
- –ö–æ–º–∞–Ω–¥–∞ `/notify_on` –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: `User.id`, `User.current_hackathon_id`

**–í—ã—Ö–æ–¥:**
- –ü–æ–∏—Å–∫ –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ `ReminderSubscription`:
  - –ü–æ–∏—Å–∫: `user_id = User.id` AND `hackathon_id = User.current_hackathon_id`
  - –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `ReminderSubscription.enabled = true`
  - –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ: —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∫–∏ —Å `enabled = true`
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

### `/notify_off`
**–í—Ö–æ–¥:**
- –ö–æ–º–∞–Ω–¥–∞ `/notify_off` –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: `User.id`, `User.current_hackathon_id`

**–í—ã—Ö–æ–¥:**
- –ü–æ–∏—Å–∫ `ReminderSubscription`:
  - `user_id = User.id` AND `hackathon_id = User.current_hackathon_id`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `ReminderSubscription.enabled = false`
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–π –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏

---

## –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### `/admin_stats`
**–í—Ö–æ–¥:**
- –ö–æ–º–∞–Ω–¥–∞ `/admin_stats` –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: `User` (–ø—Ä–æ–≤–µ—Ä–∫–∞ `User.role == 'organizer'`)
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: `User.current_hackathon_id`

**–í—ã—Ö–æ–¥:**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ `User.current_hackathon_id`:
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ `User` —Å `current_hackathon_id` = —Ç–µ–∫—É—â–µ–º—É —Ö–∞–∫–∞—Ç–æ–Ω—É
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ `ReminderSubscription` —Å `enabled=true` –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ö–∞–∫–∞—Ç–æ–Ω–∞
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ `Event` –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ö–∞–∫–∞—Ç–æ–Ω–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:
  - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `User` –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  - –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ö–∞–∫–∞—Ç–æ–Ω–∞

### `/admin_broadcast`
**–í—Ö–æ–¥:**
- –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞:
  1. `/admin_broadcast` (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
  2. –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: `User` (–ø—Ä–æ–≤–µ—Ä–∫–∞ `User.role == 'organizer'`), `User.current_hackathon_id`

**–í—ã—Ö–æ–¥:**
- –ü–æ–∏—Å–∫ –≤—Å–µ—Ö `User` –≥–¥–µ `current_hackathon_id = User.current_hackathon_id`
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤—Å–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –û—Ç—á–µ—Ç –æ —Ä–∞—Å—Å—ã–ª–∫–µ:
  - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π
  - –£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
  - –û—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–∞ —Ä–∞—Å—Å—ã–ª–∫–∏ –≤ —Å–∏—Å—Ç–µ–º–µ

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ö–∞–∫–∞—Ç–æ–Ω–∞ (–Ω–µ—è–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞)
**–í—Ö–æ–¥:**
- –ö–æ–º–∞–Ω–¥–∞ `/start` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `code` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/start HACK123`)
- –ò–ª–∏ –≤—ã–±–æ—Ä —Ö–∞–∫–∞—Ç–æ–Ω–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é

**–í—ã—Ö–æ–¥:**
- –ü–æ–∏—Å–∫ `Hackathon` –ø–æ `code`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `User.current_hackathon_id` –Ω–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã–π —Ö–∞–∫–∞—Ç–æ–Ω
- –í–æ–∑–≤—Ä–∞—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–º–µ–Ω—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –ü–æ–ª—É—á–µ–Ω–∏–µ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Å–æ–±—ã—Ç–∏—è
**–í—Ö–æ–¥:**
- –ù–µ—è–≤–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: `User.current_hackathon_id`, —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è

**–í—ã—Ö–æ–¥:**
- –°—É—â–Ω–æ—Å—Ç—å `Event` –≥–¥–µ:
  - `Event.hackathon_id = User.current_hackathon_id`
  - `Event.starts_at > current_time`
  - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ `Event.starts_at` (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ)
  - –õ–∏–º–∏—Ç 1 –∑–∞–ø–∏—Å—å
