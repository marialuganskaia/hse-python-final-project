# Доменная модель

## User
Участник или организатор хакатона. Пользователь идентифицируется по telegram_id.

**Поля:**
- `id` (int) - уникальный идентификатор в системе
- `telegram_id` (bigint) - ID пользователя в Telegram
- `username` (str) - username в Telegram
- `first_name` (str, optional) - имя пользователя
- `last_name` (str, optional) - фамилия пользователя
- `role` (UserRole) - роль пользователя: участник, организатор
- `current_hackathon_id` (int, optional) - ID текущего выбранного хакатона (внешний ключ)

## Hackathon

**Поля:**
- `id` (int) - уникальный идентификатор
- `code` (str) - уникальный код для доступа
- `name` (str) - название хакатона
- `description` (str, optional) - описание хакатона
- `start_at` (datetime) - дата и время начала
- `end_at` (datetime) - дата и время окончания
- `is_active` (bool) - флаг активности хакатона (для архивации)

## Event
Событие в расписании хакатона (чекпоинт, дедлайн, митап и т.д.).

**Поля:**
- `id` (int) - уникальный идентификатор
- `hackathon_id` (int) - ID хакатона (внешний ключ)
- `title` (str) - название события
- `type` (EventType) - тип события: checkpoint, deadline, meetup, etc.
- `starts_at` (datetime) - дата и время начала события
- `location` (str, optional) - место проведения
- `description` (str, optional) - описание события

## FAQItem (Вопрос-ответ)
Часто задаваемый вопрос и ответ для конкретного хакатона.

**Поля:**
- `id` (int) - уникальный идентификатор
- `hackathon_id` (int) - ID хакатона (внешний ключ)
- `question` (str) - вопрос
- `answer` (str) - ответ

## Rules (Правила)
Правила хакатона.

**Поля:**
- `id` (int) - уникальный идентификатор
- `hackathon_id` (int) - ID хакатона (внешний ключ)
- `content` (str) - текст правил

## ReminderSubscription (Подписка на напоминания)
Подписка пользователя на напоминания о событиях конкретного хакатона.

**Поля:**
- `id` (int) - уникальный идентификатор
- `user_id` (int) - ID пользователя (внешний ключ)
- `hackathon_id` (int) - ID хакатона (внешний ключ)
- `enabled` (bool) - включена ли подписка

## Связи между таблицами

1. **User ↔ Hackathon** через `current_hackathon_id`
   - У пользователя один текущий, выбранный хакатон
   - Хакатон может быть выбран у многих пользователей

2. **Hackathon → Event** (1:N)
   - Один хакатон имеет много событий
   - Каждое событие принадлежит одному хакатону

3. **Hackathon → FAQItem** (1:N)
   - Один хакатон имеет много FAQ
   - Каждый FAQ принадлежит одному хакатону

4. **Hackathon → Rules** (1:1)
   - Каждый хакатон имеет одни правила
   - Правила принадлежат одному хакатону

5. **User ↔ Hackathon** через **ReminderSubscription** (N:M)
   - Пользователь может подписаться на многие хакатоны
   - На хакатон могут подписаться многие пользователи
